!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.DeTransform=t():e.DeTransform=t()}(window,(function(){return function(e){var t={};function o(r){if(t[r])return t[r].exports;var f=t[r]={i:r,l:!1,exports:{}};return e[r].call(f.exports,f,f.exports,o),f.l=!0,f.exports}return o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var f in e)o.d(r,f,function(t){return e[t]}.bind(null,f));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";function r(e,t,o){let r,{x:f,y:n,z:i}=e,{oriX:l,oriY:u}=t,s=t.oriZ||0;return f-=l,n-=u,i-=s,6===o.length?{x:o[0]*f+o[1]*n+o[2]+l,y:o[3]*f+o[4]*n+o[5]+u}:16===o.length?(r=o[12]*f+o[13]*n+o[14]*i+o[15],{x:(o[0]*f+o[1]*n+o[2]*i+o[3])/r+l,y:(o[4]*f+o[5]*n+o[6]*i+o[7])/r+u,z:(o[8]*f+o[9]*n+o[10]*i+o[11])/r+s,w:r}):void 0}function f(e){let t;if(6===e.length){let[o,r,f,n,i,l]=e;return t=o*n-r*f,[n/t,-f/t,(f*l-i*n)/t,-r/t,o/t,-(o*l-i*r)/t]}if(9===e.length){let[o,r,f,n,i,l,u,s,a]=e;return t=o*(i*a-l*s)-r*(n*a-l*u)+f*(n*s-i*u),[(i*a-l*s)/t,(f*s-r*a)/t,(r*l-f*i)/t,(l*u-n*a)/t,(o*a-f*u)/t,(f*n-o*l)/t,(n*s-i*u)/t,(r*u-o*s)/t,(o*i-r*n)/t]}if(16===e.length){let[o,r,f,n,i,l,u,s,a,p,c,d,y,g,x,m]=e,h=[];return h[0]=l*c*m-l*d*x-p*u*m+p*s*x+g*u*d-g*s*c,h[1]=-r*c*m+r*d*x+p*f*m-p*n*x-g*f*d+g*n*c,h[2]=r*u*m-r*s*x-l*f*m+l*n*x+g*f*s-g*n*u,h[3]=-r*u*d+r*s*c+l*f*d-l*n*c-p*f*s+p*n*u,h[4]=-i*c*m+i*d*x+a*u*m-a*s*x-y*u*d+y*s*c,h[5]=o*c*m-o*d*x-a*f*m+a*n*x+y*f*d-y*n*c,h[6]=-o*u*m+o*s*x+i*f*m-i*n*x-y*f*s+y*n*u,h[7]=o*u*d-o*s*c-i*f*d+i*n*c+a*f*s-a*n*u,h[8]=i*p*m-i*d*g-a*l*m+a*s*g+y*l*d-y*s*p,h[9]=-o*p*m+o*d*g+a*r*m-a*n*g-y*r*d+y*n*p,h[10]=o*l*m-o*s*g-i*r*m+i*n*g+y*r*s-y*n*l,h[11]=-o*l*d+o*s*p+i*r*d-i*n*p-a*r*s+a*n*l,h[12]=-i*p*x+i*c*g+a*l*x-a*u*g-y*l*c+y*u*p,h[13]=o*p*x-o*c*g-a*r*x+a*f*g+y*r*c-y*f*p,h[14]=-o*l*x+o*u*g+i*r*x-i*f*g-y*r*u+y*f*l,h[15]=o*l*c-o*u*p-i*r*c+i*f*p+a*r*u-a*f*l,t=o*h[0]+r*h[4]+f*h[8]+n*h[12],[h[0]/t,h[1]/t,h[2]/t,h[3]/t,h[4]/t,h[5]/t,h[6]/t,h[7]/t,h[8]/t,h[9]/t,h[10]/t,h[11]/t,h[12]/t,h[13]/t,h[14]/t,h[15]/t]}}o.r(t),o.d(t,"getOriCoordinate",(function(){return s})),o.d(t,"getOriDragDistance",(function(){return a}));const n=document;let i={};function l(e){let t=e&&(e.sourceEvent||e.originalEvent||e);return t&&(t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0])||t||{pageX:0,pageY:0}}function u(e){return{x:e.pageX||e.clientX+n.scrollLeft+n.body.scrollLeft,y:e.pageY||e.clientY+n.scrollTop+n.body.scrollTop}}function s(e,t){let o,n,i,s,a,p,c,{x:d,y:y}=u(l(t)),g=e,x=[],m=0,h=0,T=!1,b=!1,O=0,Y=0;do{if(o=window.getComputedStyle(g),("BODY"!==g.tagName&&"auto"===o.getPropertyValue("overflow")||"scroll"===o.getPropertyValue("overflow"))&&(g.scrollHeight>g.offsetHeight&&(O+=g.scrollTop),g.scrollHeight>g.offsetHeight&&(Y+=g.scrollLeft)),o.getPropertyValue("transform")&&"none"!==o.getPropertyValue("transform"))if(n=o.getPropertyValue("transform-origin").split(" ").map(e=>+e.replace(/px/gi,"")),p=n[0],c=n[1],i=o.getPropertyValue("transform").split("(")[1].split(")")[0].split(",").map(e=>parseFloat(e.trim())),6===i.length){m=0,h=0,a=g;do{m+=a.offsetLeft,h+=a.offsetTop,a=a.offsetParent}while(a);x.push({elem:g,oriX:p,oriY:c,invM:f(i),offsetLeft:m,offsetTop:h}),T=!0}else if(16===i.length){b=!0,T=!0;let[e,t,o,r,f,n,l,u,s,d,y,O,Y,v,X,P]=i;m=0,h=0,a=g;do{m+=a.offsetLeft,h+=a.offsetTop,a=a.offsetParent}while(a);x.push({elem:g,oriX:p,oriY:c,matrix:[e,f,s,Y,t,n,d,v,o,l,y,X,r,u,O,P],offsetLeft:m,offsetTop:h})}g=g.parentElement}while(g);d+=Y,y+=O,m=0,h=0,a=e;do{m+=a.offsetLeft,h+=a.offsetTop,a=a.offsetParent}while(a);if(b){a=x[0];let t,o={x1:m-a.offsetLeft,y1:h-a.offsetTop,x2:m+e.offsetWidth-a.offsetLeft,y2:h+e.offsetHeight-a.offsetTop},i=r({x:o.x1,y:o.y1,z:1},{oriX:n[0],oriY:n[1]},a.matrix),l=r({x:o.x2,y:o.y1,z:1},{oriX:n[0],oriY:n[1]},a.matrix),u=r({x:o.x2,y:o.y2,z:1},{oriX:n[0],oriY:n[1]},a.matrix),{A:p,B:c,C:g}=(v=f([i.x,i.y,1,l.x,l.y,1,u.x,u.y,1]),X=[i.z,l.z,u.z],{A:v[0]*X[0]+v[1]*X[1]+v[2]*X[2],B:v[3]*X[0]+v[4]*X[1]+v[5]*X[2],C:v[6]*X[0]+v[7]*X[1]+v[8]*X[2]});return d-=a.offsetLeft,y-=a.offsetTop,t=p*d+c*y+g,s=r({x:d,y:y,z:t},{oriX:n[0],oriY:n[1]},f(a.matrix)),d=s.x-o.x1,y=s.y-o.y1,t=s.z,{x:d,y:y}}if(T)for(;g=x.pop();)d-=g.offsetLeft,y-=g.offsetTop,s=r({x:d,y:y},{oriX:g.oriX,oriY:g.oriY},g.invM),d=s.x+g.offsetLeft,y=s.y+g.offsetTop;var v,X;return d-=m,y-=h,{x:d,y:y}}function a(e,t,o){let r=s(e,t),f=0,n=0,{x:a,y:p}=u(l(t)),c=i;return r&&(a=r.x,p=r.y),"start"===o?(c._dragOX=a,c._dragOY=p):"end"===o?(f=a-c._dragOX,n=p-c._dragOY,delete c._dragOX,delete c._dragOY):(f=a-c._dragOX,n=p-c._dragOY),{dx:f,dy:n}}}])}));