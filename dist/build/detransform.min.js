!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.DeTransform=e():t.DeTransform=e()}(window,(function(){return function(t){var e={};function r(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],o=!0,n=!1,f=void 0;try{for(var i,a=t[Symbol.iterator]();!(o=(i=a.next()).done)&&(r.push(i.value),!e||r.length!==e);o=!0);}catch(t){n=!0,f=t}finally{try{o||null==a.return||a.return()}finally{if(n)throw f}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function f(t,e){return{A:t[0]*e[0]+t[1]*e[1]+t[2]*e[2],B:t[3]*e[0]+t[4]*e[1]+t[5]*e[2],C:t[6]*e[0]+t[7]*e[1]+t[8]*e[2]}}function i(t){var e;if(6===t.length){var r=o(t,6),n=r[0],f=r[1],i=r[2],a=r[3],u=r[4],l=r[5];return[u/(e=n*u-a*f),-f/e,(f*l-i*u)/e,-a/e,n/e,-(n*l-i*a)/e]}if(9===t.length){var s=o(t,9),c=s[0],y=s[1],p=s[2],d=s[3],g=s[4],m=s[5],h=s[6],v=s[7],x=s[8];return[(g*x-m*v)/(e=c*(g*x-m*v)-y*(d*x-m*h)+p*(d*v-g*h)),(p*v-y*x)/e,(y*m-p*g)/e,(m*h-d*x)/e,(c*x-p*h)/e,(p*d-c*m)/e,(d*v-g*h)/e,(y*h-c*v)/e,(c*g-y*d)/e]}if(16===t.length){var b=o(t,16),O=b[0],T=b[1],w=b[2],X=b[3],Y=b[4],j=b[5],S=b[6],P=b[7],L=b[8],A=b[9],_=b[10],z=b[11],M=b[12],C=b[13],E=b[14],I=b[15],V=[];return V[0]=j*_*I-j*z*E-A*S*I+A*P*E+C*S*z-C*P*_,V[1]=-T*_*I+T*z*E+A*w*I-A*X*E-C*w*z+C*X*_,V[2]=T*S*I-T*P*E-j*w*I+j*X*E+C*w*P-C*X*S,V[3]=-T*S*z+T*P*_+j*w*z-j*X*_-A*w*P+A*X*S,V[4]=-Y*_*I+Y*z*E+L*S*I-L*P*E-M*S*z+M*P*_,V[5]=O*_*I-O*z*E-L*w*I+L*X*E+M*w*z-M*X*_,V[6]=-O*S*I+O*P*E+Y*w*I-Y*X*E-M*w*P+M*X*S,V[7]=O*S*z-O*P*_-Y*w*z+Y*X*_+L*w*P-L*X*S,V[8]=Y*A*I-Y*z*C-L*j*I+L*P*C+M*j*z-M*P*A,V[9]=-O*A*I+O*z*C+L*T*I-L*X*C-M*T*z+M*X*A,V[10]=O*j*I-O*P*C-Y*T*I+Y*X*C+M*T*P-M*X*j,V[11]=-O*j*z+O*P*A+Y*T*z-Y*X*A-L*T*P+L*X*j,V[12]=-Y*A*E+Y*_*C+L*j*E-L*S*C-M*j*_+M*S*A,V[13]=O*A*E-O*_*C-L*T*E+L*w*C+M*T*_-M*w*A,V[14]=-O*j*E+O*S*C+Y*T*E-Y*w*C-M*T*S+M*w*j,V[15]=O*j*_-O*S*A-Y*T*_+Y*w*A+L*T*S-L*w*j,e=O*V[0]+T*V[4]+w*V[8]+X*V[12],[V[0]/e,V[1]/e,V[2]/e,V[3]/e,V[4]/e,V[5]/e,V[6]/e,V[7]/e,V[8]/e,V[9]/e,V[10]/e,V[11]/e,V[12]/e,V[13]/e,V[14]/e,V[15]/e]}}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],o=!0,n=!1,f=void 0;try{for(var i,a=t[Symbol.iterator]();!(o=(i=a.next()).done)&&(r.push(i.value),!e||r.length!==e);o=!0);}catch(t){n=!0,f=t}finally{try{o||null==a.return||a.return()}finally{if(n)throw f}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}r.r(e),r.d(e,"getOriCoordinate",(function(){return g})),r.d(e,"getOriDragDistance",(function(){return m})),r.d(e,"applyTransformAtPoint",(function(){return h}));var l=document,s={};function c(t){var e=t&&(t.sourceEvent||t.originalEvent||t);return e&&(e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0])||e||{pageX:0,pageY:0}}function y(t){return{x:t.pageX||t.clientX+l.scrollLeft+l.body.scrollLeft,y:t.pageY||t.clientY+l.scrollTop+l.body.scrollTop}}function p(t,e,r){var o,n=t.x,f=t.y,i=t.z,a=e.oriX,u=e.oriY,l=e.oriZ||0;return n-=a,f-=u,i-=l,6===r.length?{x:r[0]*n+r[1]*f+r[2]+a,y:r[3]*n+r[4]*f+r[5]+u}:16===r.length?(o=r[12]*n+r[13]*f+r[14]*i+r[15],{x:(r[0]*n+r[1]*f+r[2]*i+r[3])/o+a,y:(r[4]*n+r[5]*f+r[6]*i+r[7])/o+u,z:(r[8]*n+r[9]*f+r[10]*i+r[11])/o+l,w:o}):void 0}function d(t,e){var r,o=e.offsetX,n=e.offsetY,f=0,i=0;if(t!==(e.target||e.srcElement)){f=0,i=0,r=e.target||e.srcElement;do{f+=r.offsetLeft,i+=r.offsetTop,r=r.offsetParent}while(r);r=t;do{f-=r.offsetLeft,i-=r.offsetTop,r=r.offsetParent}while(r)}return{x:o+=f,y:n+=i}}function g(t,e){var r,o,n,u,l,s,g,m=arguments.length>2&&void 0!==arguments[2]&&arguments[2],h=y(c(e)),v=h.x,x=h.y,b=t,O=[],T=0,w=0,X=!1,Y=!1,j=0,S=0;if(m&&void 0!==e.offsetX)return d(t,e);do{if(r=window.getComputedStyle(b),"BODY"===b.tagName||"auto"!==r.getPropertyValue("overflow")&&"scroll"!==r.getPropertyValue("overflow")||(b.scrollHeight>b.offsetHeight&&(j+=b.scrollTop),b.scrollWidth>b.offsetWidth&&(S+=b.scrollLeft)),r.getPropertyValue("transform")&&"none"!==r.getPropertyValue("transform"))if(s=(o=r.getPropertyValue("transform-origin").split(" ").map((function(t){return+t.replace(/px/gi,"")})))[0],g=o[1],6===(n=r.getPropertyValue("transform").split("(")[1].split(")")[0].split(",").map((function(t){return parseFloat(t.trim())}))).length){var P=n,L=a(P,6),A=L[0],_=L[1],z=L[2],M=L[3],C=L[4],E=L[5];T=0,w=0,l=b;do{T+=l.offsetLeft,w+=l.offsetTop,l=l.offsetParent}while(l);O.push({elem:b,oriX:s,oriY:g,invM:i([A,z,C,_,M,E]),matrix:[A,z,C,_,M,E],offsetLeft:T,offsetTop:w}),X=!0}else if(16===n.length){Y=!0,X=!0;var I=n,V=a(I,16),D=V[0],B=V[1],H=V[2],W=V[3],F=V[4],U=V[5],Z=V[6],$=V[7],N=V[8],k=V[9],q=V[10],G=V[11],J=V[12],K=V[13],Q=V[14],R=V[15];T=0,w=0,l=b;do{T+=l.offsetLeft,w+=l.offsetTop,l=l.offsetParent}while(l);O.push({elem:b,oriX:s,oriY:g,matrix:[D,F,N,J,B,U,k,K,H,Z,q,Q,W,$,G,R],offsetLeft:T,offsetTop:w})}b=b.parentElement}while(b);v+=S,x+=j,T=0,w=0,l=t;do{T+=l.offsetLeft,w+=l.offsetTop,l=l.offsetParent}while(l);if(Y){var tt={x1:T-(l=O[0]).offsetLeft,y1:w-l.offsetTop,x2:T+t.offsetWidth-l.offsetLeft,y2:w+t.offsetHeight-l.offsetTop},et=p({x:tt.x1,y:tt.y1,z:1},{oriX:o[0],oriY:o[1]},l.matrix),rt=p({x:tt.x2,y:tt.y1,z:1},{oriX:o[0],oriY:o[1]},l.matrix),ot=p({x:tt.x2,y:tt.y2,z:1},{oriX:o[0],oriY:o[1]},l.matrix),nt=f(i([et.x,et.y,1,rt.x,rt.y,1,ot.x,ot.y,1]),[et.z,rt.z,ot.z]),ft=nt.A,it=nt.B,at=nt.C;return v=(u=p({x:v-=l.offsetLeft,y:x-=l.offsetTop,z:ft*v+it*x+at},{oriX:o[0],oriY:o[1]},i(l.matrix))).x-tt.x1,x=u.y-tt.y1,u.z,{x:v,y:x}}if(X)for(;b=O.pop();)v=(u=p({x:v-=b.offsetLeft,y:x-=b.offsetTop},{oriX:b.oriX,oriY:b.oriY},b.invM)).x+b.offsetLeft,x=u.y+b.offsetTop;return{x:v-=T,y:x-=w}}function m(t,e,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=g(t,e,o),f=0,i=0,a=y(c(e)),u=a.x,l=a.y,p=s;return n&&(u=n.x,l=n.y),"start"===r?(p._dragOX=u,p._dragOY=l):"end"===r?(f=u-p._dragOX,i=l-p._dragOY,delete p._dragOX,delete p._dragOY):(f=u-p._dragOX,i=l-p._dragOY),{dx:f,dy:i}}function h(t,e,r){var o="matrix"===e.slice(0,6).toLowerCase()&&e.split("(")[1].split(")")[0].split(",").map((function(t){return parseFloat(t.trim())}));if(6===o.length){var n=a(o,6),f=n[0],i=n[1],u=n[2],l=n[3];o=[f,u,n[4],i,l,n[5]]}else if(16===o.length){var s=a(o,16),c=s[0],y=s[1],d=s[2],g=s[3],m=s[4],h=s[5],v=s[6],x=s[7],b=s[8],O=s[9],T=s[10],w=s[11];o=[c,m,b,s[12],y,h,O,s[13],d,v,T,s[14],g,x,w,s[15]]}return p(t,{oriX:r.x,oriY:r.y,oriZ:r.z||0},o)}}])}));